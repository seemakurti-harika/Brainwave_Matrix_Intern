<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SpendWise - Advanced Expense Tracker</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <button
          class="theme-toggle"
          onclick="toggleTheme()"
          title="Toggle Dark Mode"
        >
          ğŸŒ™
        </button>
        <h1>ğŸ’° Spend Smart</h1>
        <p>Your Advanced Personal Finance Manager</p>
      </div>

      <div class="main-grid">
        <div class="sidebar">
          <div class="dashboard">
            <div class="card income">
              <div class="card-header">
                <div class="card-title">Total Income</div>
                <div class="card-icon">ğŸ“ˆ</div>
              </div>
              <div class="card-amount" id="totalIncome">â‚¹0.00</div>
            </div>

            <div class="card expense">
              <div class="card-header">
                <div class="card-title">Total Expenses</div>
                <div class="card-icon">ğŸ“‰</div>
              </div>
              <div class="card-amount" id="totalExpenses">â‚¹0.00</div>
            </div>

            <div class="card balance">
              <div class="card-header">
                <div class="card-title">Current Balance</div>
                <div class="card-icon">ğŸ’¼</div>
              </div>
              <div class="card-amount" id="balance">â‚¹0.00</div>
            </div>

            <div class="card budget">
              <div class="card-header">
                <div class="card-title">Monthly Budget</div>
                <div class="card-icon">ğŸ¯</div>
              </div>
              <div class="card-amount" id="budgetStatus">â‚¹0.00</div>
              <div class="budget-progress">
                <div class="progress-bar">
                  <div class="progress-fill" id="budgetProgress"></div>
                </div>
                <div class="progress-text" id="budgetText">0% used</div>
              </div>
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <span>ğŸ’³</span>
              Quick Actions
            </div>

            <button class="form-toggle" onclick="toggleForm()">
              + Add Transaction
            </button>

            <button
              class="form-toggle"
              onclick="openBudgetModal()"
              style="margin-bottom: 10px"
            >
              ğŸ¯ Set Budget
            </button>

            <div class="expense-form" id="expenseForm">
              <div class="type-selector">
                <button
                  class="type-btn active"
                  data-type="expense"
                  onclick="setType('expense')"
                >
                  <span>ğŸ“¤</span> Expense
                </button>
                <button
                  class="type-btn"
                  data-type="income"
                  onclick="setType('income')"
                >
                  <span>ğŸ“¥</span> Income
                </button>
              </div>

              <div class="form-grid">
                <div class="form-group">
                  <label for="amount">Amount (â‚¹)</label>
                  <input
                    type="number"
                    id="amount"
                    placeholder="0.00"
                    step="0.01"
                    min="0"
                  />
                </div>
                <div class="form-group">
                  <label for="description">Description</label>
                  <input
                    type="text"
                    id="description"
                    placeholder="What was this for?"
                  />
                </div>
                <div class="form-group">
                  <label for="category">Category</label>
                  <select id="category">
                    <option value="">Select category</option>
                    <option value="Food & Dining">ğŸ½ï¸ Food & Dining</option>
                    <option value="Transportation">ğŸš— Transportation</option>
                    <option value="Shopping">ğŸ›ï¸ Shopping</option>
                    <option value="Entertainment">ğŸ¬ Entertainment</option>
                    <option value="Bills & Utilities">
                      ğŸ’¡ Bills & Utilities
                    </option>
                    <option value="Healthcare">ğŸ¥ Healthcare</option>
                    <option value="Education">ğŸ“š Education</option>
                    <option value="Travel">âœˆï¸ Travel</option>
                    <option value="Salary">ğŸ’¼ Salary</option>
                    <option value="Freelance">ğŸ’» Freelance</option>
                    <option value="Investment">ğŸ“ˆ Investment</option>
                    <option value="Business">ğŸ¢ Business</option>
                    <option value="Gift">ğŸ Gift</option>
                    <option value="Other">ğŸ“¦ Other</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="date">Date</label>
                  <input type="date" id="date" />
                </div>
              </div>

              <button
                class="add-btn"
                onclick="addOrUpdateTransaction()"
                id="submitBtn"
              >
                <span id="addBtnText">Add Transaction</span>
              </button>

              <button
                class="cancel-edit-btn"
                onclick="cancelEdit()"
                id="cancelBtn"
                style="display: none"
              >
                Cancel Edit
              </button>
            </div>
          </div>
        </div>

        <div class="main-content">
          <div class="stats-grid">
            <div class="chart-container">
              <div id="expenseChart" style="text-align: center">
                <div style="font-size: 3rem; margin-bottom: 10px">ğŸ“Š</div>
                <div style="font-weight: 600; color: var(--gray)">
                  Expense Distribution
                </div>
                <div
                  style="
                    font-size: 0.9rem;
                    color: var(--gray);
                    margin-top: 10px;
                  "
                >
                  Add transactions to see chart
                </div>
              </div>
            </div>

            <div class="chart-container">
              <div id="monthlyTrend" style="text-align: center">
                <div style="font-size: 3rem; margin-bottom: 10px">ğŸ“ˆ</div>
                <div style="font-weight: 600; color: var(--gray)">
                  Monthly Trend
                </div>
                <div
                  style="
                    font-size: 0.9rem;
                    color: var(--gray);
                    margin-top: 10px;
                  "
                >
                  Track your spending over time
                </div>
              </div>
            </div>
          </div>

          <div class="transactions-section">
            <div class="transactions-header">
              <div class="section-title">
                <span>ğŸ“‹</span>
                Recent Transactions
              </div>
              <button class="export-btn" onclick="exportToCSV()">
                ğŸ“¥ Export CSV
              </button>
            </div>

            <div id="transactionsList">
              <div class="empty-state">
                <div class="empty-state-icon">ğŸ’³</div>
                <p><strong>No transactions yet!</strong></p>
                <p>
                  Add your first transaction to get started with tracking your
                  finances.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Budget Modal -->
    <div class="modal" id="budgetModal">
      <div class="modal-content">
        <button class="modal-close" onclick="closeBudgetModal()">âœ•</button>
        <div class="section-title">
          <span>ğŸ¯</span>
          Set Monthly Budget
        </div>

        <div class="budget-form">
          <div class="form-group">
            <label for="budgetAmount">Monthly Budget Amount (â‚¹)</label>
            <input
              type="number"
              id="budgetAmount"
              placeholder="Enter your monthly budget"
              step="0.01"
              min="0"
            />
          </div>

          <div class="form-group">
            <label for="budgetCategory">Category (Optional)</label>
            <select id="budgetCategory">
              <option value="">Overall Budget</option>
              <option value="Food & Dining">ğŸ½ï¸ Food & Dining</option>
              <option value="Transportation">ğŸš— Transportation</option>
              <option value="Shopping">ğŸ›ï¸ Shopping</option>
              <option value="Entertainment">ğŸ¬ Entertainment</option>
              <option value="Bills & Utilities">ğŸ’¡ Bills & Utilities</option>
              <option value="Healthcare">ğŸ¥ Healthcare</option>
              <option value="Education">ğŸ“š Education</option>
              <option value="Travel">âœˆï¸ Travel</option>
            </select>
          </div>

          <button class="add-btn" onclick="setBudget()">Set Budget</button>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
